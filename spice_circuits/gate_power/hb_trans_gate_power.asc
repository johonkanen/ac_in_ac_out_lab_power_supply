Version 4
SHEET 1 2024 1092
WIRE 576 -144 544 -144
WIRE 720 -144 656 -144
WIRE 832 -144 784 -144
WIRE 544 -48 544 -144
WIRE 544 -48 496 -48
WIRE 656 -48 544 -48
WIRE 832 -48 832 -144
WIRE 832 -48 720 -48
WIRE 896 -48 832 -48
WIRE 1120 -48 896 -48
WIRE 320 -32 -176 -32
WIRE 832 -32 832 -48
WIRE 1120 -32 1120 -48
WIRE -176 0 -176 -32
WIRE 320 32 320 -32
WIRE 656 32 496 32
WIRE 832 32 656 32
WIRE 896 32 832 32
WIRE 1120 32 896 32
WIRE 656 80 656 32
WIRE -176 112 -176 80
WIRE -176 112 -192 112
WIRE 320 128 320 112
WIRE 576 128 544 128
WIRE 720 128 656 128
WIRE 848 128 784 128
WIRE 320 192 0 192
WIRE 544 208 544 128
WIRE 544 208 496 208
WIRE 656 208 544 208
WIRE 848 208 848 128
WIRE 848 208 720 208
WIRE 896 208 848 208
WIRE 1104 208 896 208
WIRE 848 224 848 208
WIRE 1104 224 1104 208
WIRE 608 288 496 288
WIRE 848 288 608 288
WIRE 896 288 848 288
WIRE -192 320 -192 112
WIRE 0 320 0 192
WIRE 0 320 -192 320
WIRE 848 320 848 288
WIRE 1104 320 1104 288
WIRE 1104 320 848 320
WIRE 608 336 608 288
WIRE -192 400 -192 320
FLAG -192 400 0
FLAG 608 336 0
FLAG 656 80 0
SYMBOL ind2 304 16 R0
SYMATTR InstName L1
SYMATTR Value {L1}
SYMATTR Type ind
SYMATTR SpiceLine Rser=250m
SYMBOL ind2 512 -64 M0
SYMATTR InstName L2
SYMATTR Value {Lsec1}
SYMATTR Type ind
SYMATTR SpiceLine Rser=100m
SYMBOL voltage -176 -16 R0
WINDOW 123 0 0 Left 2
WINDOW 39 24 124 Left 2
SYMATTR SpiceLine Rser=1
SYMATTR InstName V1
SYMATTR Value PULSE(0 15 0 1n 1n {d1} {Ts})
SYMBOL cap 848 32 R180
WINDOW 0 24 56 Left 2
WINDOW 3 24 8 Left 2
SYMATTR InstName C2
SYMATTR Value 1µ
SYMATTR SpiceLine Rser=10m
SYMBOL cap 864 288 R180
WINDOW 0 24 56 Left 2
WINDOW 3 24 8 Left 2
SYMATTR InstName C3
SYMATTR Value 1µ
SYMATTR SpiceLine Rser=10m
SYMBOL diode 656 -32 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D1
SYMATTR Value 1N914
SYMBOL diode 656 224 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D3
SYMATTR Value 1N914
SYMBOL res 880 -64 R0
SYMATTR InstName R2
SYMATTR Value 10k
SYMBOL res 880 192 R0
SYMATTR InstName R3
SYMATTR Value 10k
SYMBOL cap 304 128 R0
SYMATTR InstName C4
SYMATTR Value 47n
SYMATTR SpiceLine Rser=10m
SYMBOL ind2 512 192 M0
SYMATTR InstName L3
SYMATTR Value {Lsec2}
SYMATTR Type ind
SYMATTR SpiceLine Rser=100m
SYMBOL cap 720 144 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName C1
SYMATTR Value 10p
SYMATTR SpiceLine Rser=10m
SYMBOL res 672 112 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value 1k
SYMBOL cap 720 -128 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName C5
SYMATTR Value 10p
SYMATTR SpiceLine Rser=10m
SYMBOL res 672 -160 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R4
SYMATTR Value 470
SYMBOL zener 1136 32 R180
WINDOW 0 24 64 Left 2
WINDOW 3 -185 -5 Left 2
SYMATTR InstName D2
SYMATTR Value BZX84C15VLY
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL zener 1120 288 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D4
SYMATTR Value 1N750
SYMATTR Description Diode
SYMATTR Type diode
TEXT 288 -64 Left 2 !K1 L1 L2 L3 .99
TEXT 104 408 Left 2 !.tran 0 1000u 700u 100n
TEXT -176 -432 Left 2 ;Transformer:\nE10/5.5/5\n https://product.tdk.com/system/files/dam/doc/product/ferrite/ferrite/ferrite-core/data_sheet/80/db/fer/e_10_5_5_5.pdf\n10x AWG34\nPri: 64-68\n \n10-15x AWG30\nsec: 2+2
TEXT 1368 152 Left 2 !.param duty=0.65 ; half bridge duty ratio\n.param fsw=500k ; Switching frequency
TEXT 1368 240 Left 2 !.param Ts= 1/fsw; switch cycle time\n.param d1=Ts*duty ; high side switch on time
TEXT 1368 -128 Left 2 !.param Npri=8\n.param Nsec1 = 12\n.param Nsec2 = 4\n.param Al_ee10_n87 = 800e-9 \n.param L1 = Npri*Npri*Al_ee10_n87\n.param Lsec1= L1/(Npri/Nsec1)/(Npri/Nsec1)\n.param Lsec2= L1/(Npri/Nsec2)/(Npri/Nsec2)\n.param leakage_inductance = 500n\n.param K = sqrt(1-leakage_inductance/L1)
